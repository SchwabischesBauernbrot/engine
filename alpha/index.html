<!DOCTYPE html>
<html>

<head>

  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>engine.lol (alpha 1.2)</title>
  <meta property="og:image" content="https://engine.lol/alpha/preview.png">
  <meta name="description" content="A tiny storytelling tool that may break at any moment, just like you." />
  <meta name="author" content="Chia" />

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link rel="stylesheet" href="https://unpkg.com/reset-css@5.0.1/reset.css" />
  <link rel="stylesheet" href="t.css" />
  <link rel="stylesheet" href="ui.css" />


</head>

<body>

  <div class="blocker"></div>
  <div class="fx _1"></div>
  <div class="fx _p"></div>
<!--  <div class="fx _s"></div>-->

  <div class="fx _cover">
    <img src="assets/fx-television.png">
  </div>


  <div id="ahhh">
    <h1>engine.lol is too small to launch!<br>
      <a href="gallery.html" style="color:#fff;">you can play games, though!</a></h1>
  </div>


  <div id="info">
    <span title="That's meeee." text="cartridge-title">engine.lol</span>

    <span class="_version" title="Please hard refresh regularly! This is my way of saying that it's not very good right now...">2.0</span>
  </div>

  <div id="jump">
    
        
    <div class="-secondary -links -tools">
      <a title="Remix another engine.lol game" action="remix">Remix</a>
      
      <a href="https://engine.lol/text" class="_small" target="_blank" title="Try the WIP of engine.lol text">Text (WIP)</a>

      <a href="https://discord.gg/c4DQ6mqJ" class="_small" target="_blank" title="Chat with the Engine community">Discord</a>

      <a href="gallery.html" class="_small" target="_blank" title="Play other Engine games">Gallery</a>
      <a href="https://chi.itch.io/enginelol" class="_small" target="_blank" title="Play engine.lol on itch.io">itch.io</a>

      <a class="_small" href="https://forms.gle/Thifa9CL7fQpbXwT8" target="_blank" title="Want to submit your game to the world? Go into the gallery!">Submit</a>

      <a href="https://chia.design" class="_small" target="_blank" title="Are you sure about that?">Complain</a>


      <a class="_small" title="Are you really, really sure about that?" onclick="if(!confirm('Everything not saved will be lost')){return;} sceneControls.reset();">Destroy</a>
    </div>
    
    <div class='-secondary -links -publish'>
    
        <a class="--med" action="getCartridge" id="btn-getcode" title="Get the cartridge code for your game and share it with friends or to the gallery!">Get cartridge code</a>
        <a class="--med" action="exportHTML" id="btn-download" title="Download your game into an HTML file that you can play offline...">Export to HTML</a>
        <a disabled class="--med" action="publishCartridge" id="btn-publish" title="Get the cartridge code for your game and share it with friends or to the gallery!">Publish Cartridge</a>
      
    </div>
    
    <div class="wrapper">
      <div class="-primary -jump -links">
      <a action="openMap" title="Take a look at your big big game map.">
        Map<br>
        <img src="assets/icon-1.gif"></a>
      <a href="#window-engine" title="Put your scenes together...">
        Editor<br>
        <img src="assets/icon-2.png"></a>
      <a href="#window-play" title="Take a look at how your game looks like on the player!">
        Play<br>
        <img src="assets/icon-3.gif"></a>
      </div>


      <div class="-primary -links -tools">
        <a action='toggleTools'>tools</a>
      </div>
      
      <div class="-primary -links -publish">
        <a action='togglePublish'>publish</a>
      </div>
    </div>

  </div>

  <!-- TIPS GO HERE -->
  <div id="outer-modals">
  </div>



  <!--  WORKSPACE -->

  <div id="workspace">

    
<!--   AUDIO PLAYER -->
    <section id="-audio">
      
      <div id="audio">
        <div class="wrapper">
          
        <select game-audio name="audio-category" class="_audio-category">
          <option value="" selected disabled hidden>pick audio</option>
          <option value="none">no audio</option>
        </select>

        <div class="-controls">
          <button id="btn-audio-play" audio="play">▶</button>
          <button id="btn-audio-stop" audio="stop">⏹</button>
        </div>
          
        </div>
        <audio id="audio-src">
          <source src="">
        </audio>
      </div>

      
    </section>
    
        <div id="map" class="window" window-moveable>
          <h2>
            <span>Map </span>
            <span hide>X</span>
          </h2>

          <div class="-content">
            <div id="scene_selector">
              <div id="sss"></div>
            </div>
          </div>
        </div>



    <!--  WINDOW: ENGINE  -->


    <a id="window-engine" style="display: block;height:20px;width: 100%;"></a>

    <section id="-editor">
      <div class="window" id="engine-window">
        <h2 engine-window-text>
          <span text="cartridge-title" default="editing">Editing</span> 
          
          <span text="scene-title" class="_scenetitle" title="Your scene's title">Scene</span>
          
          <span text="scene" class="_whatscene" title="The coordinates of the scene you're currently editing!">0,0</span>
        </h2>

        <div id="engine">

          <!-- LEFT SIDEBAR AND CONTROLS HERE -->
          <div id="controls" class="panel sidebar sidebar-left">
            
            <!-- LIBiRARY PANEL -->

            <div class="panel _sidebar" id="library">
<!--              <marquee class="_assetlibrarytext" scrollamount="3">Click or drag on objects to add them to the scene</marquee>-->

              <div class="library-controls">

                <select name="library-category" class="_library-category">
                  <option value="none" selected disabled hidden>choose objects</option>
                  <option value="faces" title="Did you know that I have feelings of my own too...?">faces</option>
                  <option value="jamiecross" title="Thank you Jamie Cross">jamie cross</option>
                  <option value="softbank" title="The premise where there is a world where all our software is made by people who love us and we can contribute to building it...">softbank</option>
                  <option value="everything" title="All I love in the world">everything</option>
                  <option value="environment" title="Little trees, grass, and flowers... Where do they come from? What's their story?">environment</option>
                  <option value="items" title="To hold something and become something...">items</option>
                  <option value="digital" title="We get it, you look at early Mac ads and think everything is retro!">digital</option>
                  <option value="clouds">clouds</option>
                  <option value="monsters" title="Why do we call some things monsters? Are monsters truly evil by nature? Are mortals truly good by nature? Are we making blind judgments on good and evil based on what our small minds can conceive?">monsters</option>
                  <option value="chat" title="YES, YES, YES, YES, YES, YES!">chat</option>
                </select>
              </div>


              <div class="library-selector" id="library-objects">


              </div>

            </div>
            
            
            
            <div class="panel _sidebar" id="colorpicker">
              <h2>Color</h2>
              <input type="color" name="scenecolorpicker" value="#000000" title="Can't the world look like so much more than this?">
            </div>
            
            <div class="panel _sidebar" id="effects">
            
              <h2>Effects</h2>

              <!-- SCENE / CAPTION -->
              <input name="caption" placeholder="Write a scene caption here..">

<!--              <input name="title" placeholder="Write a scene title here..">-->


              <!-- SCENE / EFFECTS -->

              <select name="effects-category" class="_scene-category">
                <option value="none" selected>pick effect</option>
                <option value="flowerpetals">flower petals</option>
                <option value="scanlines">scanlines</option>
                <option value="softblur">soft blur</option>
                <option value="mediumblur">medium blur</option>
                <option value="hardblur">hard blur</option>
                <option value="lightshadow">light vignette</option>
                <option value="mediumshadow">medium vignette</option>
                <option value="hardshadow">hard vignette</option>
                <option value="redshadow">red vignette</option>
                <option value="hardredshadow">hard red vignette</option>
              </select>
            
            </div>
            
            <div class="panel _sidebar" id="audiopicker">
              <h2>OST</h2>
              <button action='toggleSound' id="btn-gameAudio" class="--large" >open game audio</button>
            </div>
            
          </div>

          <!-- MAIN ENGINE HERE -->

          <div id="e">
          
            <div id="e-effects">
            </div>

            <div id="e-text">
              <textarea id="texteditor" maxlength="550" rows="17"></textarea>
            </div>

          </div>

          <!-- RIGHT SIDEBAR AND TUTORIALS HERE -->


          <div id="help" class="panel sidebar sidebar-right">

            <!-- MAP PANEL -->
            
            <div id="scene_s" class="panel _sidebar">
              <div id="scene_selector">

              </div>
            </div>

            <div id="library-scene-controls" class="panel">

              <!-- SCENE / CONTROLS -->

              <button action="sceneCopy" id="btn-scenecontrols-copyscene" class="--small">copy</button>

              <button action="scenePaste" id="btn-scenecontrols-pastescene" title="If you have a scene in your clipboard, you can paste it onto here... " class="--small" disabled>paste</button>

              <button action="sceneDelete" id="btn-scenecontrols-deletescene" class="--small" title="Completely delete your current scene" disabled>delete</button>
              
              <div class="control-setstarting" checked title="Set your game's starting scene">
              <input type="checkbox" action="sceneSetStarting" id="sceneSetStarting" checked/> <label for="sceneSetStarting">starting scene</label>
              </div>
           

            </div>   
              
              <h2>Cartridge</h2>
            <div class="panel _sidebar" id="cartridge">
              <button action='editCartridge' id="btn-editCartridge" class="--large" title="Adjust your game cover and title">edit cartridge</button>
            </div>


            <!-- HELP PANEL -->

            <div class="panel _sidebar" id="gamestatus">
              <h2 title="This tells you about your game's feelings. Not how your game is.">Engine Status</h2>
                <div class="-wrapper">

                <img src="assets/status-bleh.gif" class="_gamestatus_mood" title="eh....">

                <p class="_gamestatus_text">Your game has just begun.</p>
                </div>

            </div>

          </div>
        </div>
        

        <div id="controls-top">

          <div class="controls-selected">

            <button action="objSizeUp" onclick="objControls.size('up');">grow +</button>
            <button  action="objSizeDown" onclick="objControls.size('down');">shrink -</button>

            <button action="objInvert" onclick="objControls.effect('invert');">invert</button>

            <button action="objFlip" onclick="objControls.effect('flip');">flip</button>

            <button action="objDelete" onclick="objControls.delObj();">delete</button>

            <button action="objSave" id="btn-finishediting" onclick="objControls.clearSelected();objControls.saveObjects();">done</button>
          </div>
          
            <!--  TEXT OVERLAY PANEL -->
          <div id="tool-textoverlay" class="controls-text">

              <button action='textWrite' id="btn-toggletext" class="--large" title="Clicky me and you can then type on the screen! And it saves!">write text</button>
              <button action='textChangefont' id="btn-changefonttext" class="--small" title="Spice up the font a lil bit...">🎲</button>
          </div>

          <div class="controls-cartridge">
            <button action='saveCartridge' id="btn-savecartridge">save cartridge</button>
          </div>

        </div>
      </div>
    </section>


    <!--  WINDOW: PLAY  -->


    <a id="window-play" style="display: block;height: 8vh;width: 100%;"></a>

    <section id="-player">
      <div tabindex="-1" class="window" id="play">
        <div class="play-overlay" style="background-image:url(assets/fx-scanline.gif);mix-blend-mode: multiply;opacity: 0.1;"></div>

        <h2>
          <span text="cartridge-title">Player</span>
        </h2>

        <!-- THE 'START SCREEN' FOR GAMES   -->

        <div id="e-cartridge"></div>

        <div id="e-controls">
          <a data-direction="n" data-target="null" class="___n -inaccessible"></a>
          <a data-direction="e" data-target="null" class="___e -inaccessible"></a>
          <a data-direction="w" data-target="null" class="___w -inaccessible"></a>
          <a data-direction="s" data-target="null" class="___s -inaccessible"></a>
        </div>

        <!--  PLAY AREA GOES HERE  -->

        <div id="e-play">

          <div id="e-effects">
          </div>

          <div id="e-text">
            <textarea maxlength="550"></textarea>
          </div>

        </div>
      </div>

      <div class="engine-buttons">
        <button id="btn-play" action='play' title="Ready to preview your little game?">
          Play & Preview
        </button>
        <br>
        <button id="btn-clear" class="--small --destructive" title="Tidy up!">Stop</button>
      </div>
    </section>

  </div>

  
  <!--  For cartridge code-->
  <div id="downloader"></div>

  
  <script src="jquery.min.js" type="text/javascript"></script>
  <script src="jquery-ui.min.js" type="text/javascript"></script>

  <script type="text/javascript" src="engine/core.js"></script>
  <script type="text/javascript" src="engine/map.js"></script>
  <script type="text/javascript" src="engine/scene.js"></script>
  <script type="text/javascript" src="engine/library.js"></script>
  <script type="text/javascript" src="engine/playerpreview.js"></script>
  <script type="text/javascript" src="engine/audio.js"></script>
  <script type="text/javascript" src="engine/tutorial.js"></script>
  <script type="text/javascript" src="engine/ui.js"></script>
  <script type="text/javascript" src="engine/samples.js"></script>

  <script type="text/javascript">
    var active_scene = null;
    
    
    $(function() {
      
    console.log("Initializing Engine");
      
      
      
  if ($(window).width() < 600) {
    window.location.href = 'gallery.html';
  }
      
      $(document).tooltip({
        track: true
      });
      
      
    $('#e').tooltip({
      show: {
        effect: 'slideDown',
        delay: 5000,
        duration: 500
      }
    });
    
      

    if(localStorage.getItem("cartridge") !== null){
      loadCartridge(localStorage.getItem("cartridge"));
    } else{
    scenes.s[0] = new Scene(0, 0, true, 0);
    active_scene = scenes.s[0];
    }
      
      
      
    });

    
  </script>
  
  
  
    <script type="module" src="engine/downloader.js"></script>

</body></html>
