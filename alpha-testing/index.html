<!DOCTYPE html>
<html>

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Engine Alpha 1.0</title>
  <meta name="description" content="A tiny storytelling tool." />
  <meta name="author" content="Chia" />

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link rel="stylesheet" href="https://unpkg.com/reset-css@5.0.1/reset.css" />
  <link rel="stylesheet" href="t.css" />
</head>

<body>

  <div class="blocker"></div>
  <div class="fx _1"></div>
  <div class="fx _p"></div>
  <div class="fx _s"></div>

  <div class="fx _cover">
    <img src="assets/fx-television.png">
  </div>


  <div id="info">
    <span>Engine</span>

    <span class="_version">Alpha 1.1</span>
  </div>

  <div id="jump">
    <a href="#window-map" title="Take a look at your big big game map.">
      Map<br>
      <img src="assets/icon-1.gif"></a>
    <a href="#window-engine" title="Put your scenes together...">
      Editor<br>
      <img src="assets/icon-2.png"></a>
    <a href="#window-play" title="Take a look at how your game looks like on the player!">
      Preview<br>
      <img src="assets/icon-3.gif"></a>
    <br>
    <a href="player.html" class="_small" target="_blank" title="Load in other Engine games by their console code (takes you to a new page!)">Player</a>
    <a href="https://discord.com/invite/u5MHYcEV" class="_small" target="_blank" title="Chat with the Engine community">Discord</a>


    <a href="gallery.html" class="_small" target="_blank" title="Play other Engine games">Gallery</a>


    <a href="mailto:hotemogirlfriend@gmail.com" class="_small" target="_blank" title="Are you sure about that?">Complain</a>


    <a class="_small" title="Are you really, really sure about that?" onclick="if(!confirm('Everything not saved will be lost')){return;} window.location.reload();">Destroy</a>

  </div>

  <!-- TIPS GO HERE -->
  <div id="outer-modals">
  </div>


  <!--  WINDOW: START  -->

  <div id="start" class="window">
    <div class="window-wrapper">
      <div>
        <h1 class="_title">Engine</h1>

        <button id="tempplay">Create new game</button>
        <button id="tempplay" onclick="location.href = 'player.html';">Load cartridge</button>

      </div>
    </div>
  </div>


  <!--  WINDOW: MAP  -->


  <a id="window-map" style="display: block;height: 15vh;width: 100%;"></a>
  <div id="map" class="window">

    <h2>
      <span>Map View</span>
      Viewing the Map of the World
    </h2>

    <div id="scene_selector">

      <textarea id="_remix" placeholder="paste a cartridge code here to start editing it. note this deletes your existing scene!"></textarea>

      <hr>

      <div id="sss"></div>

      <hr>
      <hr>

      <div id="map-controls">
        <button id="btn-changestartingscene" title="I am at the center of everything that happens">change starting scene</button>
        <button id="btn-cartridge">edit cartridge (game cover)</button>
        <br>
        <button id="btn-remixcartridge">remix cartridge</button>
        <div class="controls-remixcartridge" style="display: none;">
          <button id="btn-remixcartridge-back">back</button>
          <button id="btn-remixcartridge-load">load cartridge</button>
        </div>
      </div>
    </div>


  </div>


  <a id="window-audio"></a>

  <div id="audio-player-controller">
    <h3>
      <marquee class="_audiotitle" onmouseover="this.stop();" onmouseout="this.start();">
        Here is my silly little song title
      </marquee>
    </h3>

    <button id="btn-audio-play">▶</button>
    <button id="btn-audio-stop">◼︎</button>

    <audio id="_audio">
      <source src="" id="_audio_src">
    </audio>
  </div>

  <div id="audio-player" class="window">
    <h2>Cartridge Audio</h2>

    <div class="_controlstext">
      <marquee>You can pick a little song for your game... Make sure it's a good song!</marquee>
    </div>

    <div class="controls-audio">
      <div class="controls-audio-loader">

        <select name="audio-category" class="_audio-category">
          <option value="none" selected disabled hidden>pick audio</option>
        </select>

        <button id="btn-controls-audio-loadsong">load song</button>
        <button id="btn-controls-audio-previewsong" title="Listen to the song in another window...">preview song</button>
      </div>

    </div>

  </div>

  <!--  WINDOW: ENGINE  -->

  <a id="window-engine" style="display: block;height: 6vh;width: 100%;"></a>

  <div class="window" id="engine-window">
    <h2>
      <span>Editor View</span> Editing <span class="_whatscenetype">Scene</span> <span class="_whatscene">0,0&nbsp;</span> Objects left <span class="_howmany">0</span>
    </h2>

    <div id="engine">

      <!-- LEFT SIDEBAR AND CONTROLS HERE -->
      <div id="controls" class="panel sidebar sidebar-left">


        <!--  TEXT OVERLAY PANEL -->
        <div class="panel _sidebar" id="tool-textoverlay">

          <h2>Text</h2>

          <div class="library-text-controls">
            <button id="btn-toggletext" title="Clicky me and you can then type on the screen! And it saves!">Toggle Text Editor</button>
          </div>
        </div>


        <!-- LIBRARY PANEL -->

        <div class="panel _sidebar" id="library">
          <h2>Asset Library</h2>

          <div class="library-controls">

            <select name="library-category" class="_library-category">
              <option value="none" selected disabled hidden>pick category</option>
              <option value="environment" title="Little trees, grass, and flowers... Where do they come from? What's their story?">environment</option>
              <option value="faces" title="Did you know that I have feelings of my own too...?">faces</option>
              <option value="items" title="To hold something and become something...">items</option>
              <option value="digital" title="We get it, you look at early Mac ads and think everything is retro!">digital</option>
              <option value="clouds">clouds</option>
              <option value="monsters" title="Why do we call some things monsters? Are monsters truly evil by nature? Are mortals truly good by nature? Are we making blind judgments on good and evil based on what our small minds can conceive?">monsters</option>
              <option value="chat" title="YES, YES, YES, YES, YES, YES!">chat</option>
              <option value="softbank" title="The premise where there is a world where all our software is made by people who love us and we can contribute to building it...">softbank</option>
            </select>
          </div>


          <div class="library-selector" id="library-objects">


          </div>

          <marquee class="_assetlibrarytext">Double-click an image to add it to the scene!</marquee>


          <div class="_objcoords">

            <center>
              <span class="__x">0</span>, <span class="__y">0</span>
            </center>
          </div>

        </div>

        <div class="panel _sidebar" id="colorpicker">
          <h2>Scene Color</h2>
          <input type="color" name="scenecolorpicker" value="#000000" title="Can't the world look like so much more than this?">
        </div>
      </div>

      <!-- MAIN ENGINE HERE -->

      <div id="e">

        <div id="e-text">
          <textarea id="texteditor" maxlength="550" rows="17"></textarea>
        </div>

      </div>



      <!-- RIGHT SIDEBAR AND TUTORIALS HERE -->


      <div id="help" class="panel sidebar sidebar-right">

        <!-- MAP PANEL -->
        <div id="scene_s" class="panel _sidebar">
          <h2><span>Map</span> <span class="_whatscene">0,0</span></h2>
          <div id="scene_selector">

          </div>
        </div>

        <div id="library-scene-controls">
          scene controls<br>
          <button id="btn-scenecontrols-deletescene" title="You can't delete your starting scene">delete</button>

          <button id="btn-scenecontrols-copyscene">copy</button>

          <button id="btn-scenecontrols-pastescene">paste</button>
        </div>

        <!-- HELP PANEL -->

        <div class="panel _sidebar" id="gamestatus">
          <h2>Game Status</h2>

          <img src="assets/status-bleh.gif" class="_gamestatus_mood" title="eh....">

          <p class="_gamestatus_text">Your game has just begun.</p>
        </div>

      </div>
    </div>

    <div id="controls-top">

      <div class="controls-selected">

        <button data-action="delete" onclick="objControls.delObj();">delete</button>

        <button onclick="objControls.size('up');">grow</button>
        <button onclick="objControls.size('down');">shrink</button>

        <button onclick="objControls.effect('invert');">invert</button>

        <button onclick="objControls.effect('flip');">flip</button>


        <button id="btn-finishediting" onclick="objControls.clearSelected();objControls.saveObjects();">finish editing</button>
      </div>

      <div class="controls-cartridge">
        <button id="btn-savecartridge">save cartridge</button>
      </div>

    </div>
  </div>



  <!--  WINDOW: PLAY  -->


  <a id="window-play" style="display: block;height: 8vh;width: 100%;"></a>

  <div class="window" id="play">
    <div class="play-overlay" style=" background-image:url(assets/fx-scanline.gif);mix-blend-mode: multiply;opacity: 0.4;"></div>

    <h2>
      <span>Player Preview</span>
      <span class="_playwhatscene"></span>
    </h2>

    <!-- THE 'START SCREEN' FOR GAMES   -->

    <div id="e-cartridge">
    </div>

    <div id="e-controls">
      <a data-direction="n" data-target="null" class="___n -inaccessible"></a>
      <a data-direction="e" data-target="null" class="___e -inaccessible"></a>
      <a data-direction="w" data-target="null" class="___w -inaccessible"></a>
      <a data-direction="s" data-target="null" class="___s -inaccessible"></a>
    </div>




    <!--  PLAY AREA GOES HERE  -->

    <div id="e-play">

      <div id="e-text">
        <textarea maxlength="550"></textarea>
      </div>

    </div>


  </div>


  <div class="engine-buttons">
    <button id="btn-play" title="Ready to preview your little game?">

      Play
    </button>
    <button id="btn-clear" title="Remove your game preview and clear everything up!">Clear</button>
    <br><br>
    <button id="btn-download" title="Download your game into an HTML file that you can play offline...">Download</button>
    <button id="btn-getcode" title="Get the cartridge code for your game and share it with friends or to the gallery!">Get Code</button>
    <button onclick="window.open( 'https://forms.gle/Thifa9CL7fQpbXwT8', '_blank');" title="Want to submit your game to the world? Go into the gallery!">Submit to Gallery</button>
  </div>

  <div id="downloader">
  </div>

  <iframe id="downloader_game" src="blank-cartridge.html"></iframe>

  <link rel="stylesheet" href="//code.jquery.com/ui/1.13.0/themes/base/jquery-ui.css">
  <script src="//code.jquery.com/jquery-3.6.0.min.js" type="text/javascript"></script>
  <script src="//code.jquery.com/ui/1.13.0/jquery-ui.min.js" type="text/javascript"></script>

  <script type="text/javascript" src="core.js"></script>

  <script type="text/javascript" src="map.js"></script>
  <script type="text/javascript" src="scene.js"></script>
  <script type="text/javascript" src="library.js"></script>
  <script type="text/javascript" src="playerpreview.js"></script>
  <script type="text/javascript" src="audio.js"></script>
  <script type="text/javascript" src="downloader.js"></script>
  <script type="text/javascript" src="tutorial.js"></script>

  <script type="text/javascript">
    $(function() {
      $(document).tooltip({
        track: true
      });
    });

    console.log("Initializing Engine");

    scenes.s[0] = new Scene(0, 0, true, 0);
    var active_scene = scenes.s[0];

  </script>

</body>

</html>
